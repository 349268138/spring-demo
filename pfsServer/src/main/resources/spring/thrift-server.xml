<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns="http://www.springframework.org/schema/beans"
       default-autowire="byName"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
		http://www.springframework.org/schema/beans/spring-beans.xsd">

    <!--sop鉴权-->
    <bean id="kmsAuthDataSource" class="com.meituan.service.inf.kms.client.KmsAuthDataSource">
        <property name="appkey" value="${app.name}"/>
    </bean>
    <bean id="defaultAuthHandler" class="com.meituan.service.mobile.mtthrift.auth.DefaultAuthHandler">
        <property name="authDataSource" ref="kmsAuthDataSource" />
    </bean>

    <bean id="EventNotice" class="com.meituan.pay.finsecurity.service.EventServiceImpl"></bean>
    <bean id="EventNoticePublisher" class="com.meituan.service.mobile.mtthrift.proxy.ThriftServerPublisher"
          init-method="publish" destroy-method="destroy">
        <property name="serviceInterface" value="com.meituan.pay.finsecurity.sdk.api.EventService"/> <!-- 接口类 -->
        <property name="serviceImpl" ref="EventNotice"/> <!-- 实现类 -->
        <property name="appKey" value="${app.name}"/>  <!-- 本地 appkey，建议重新注册一个 -->
        <property name="port" value="9077"/> <!-- Server 监听端口 -->
        <property name="authHandler" ref="defaultAuthHandler" /> <!-- 必须设置authHandler属性鉴权才会生效 -->
    </bean>
</beans>
